---
title: "Minha primeira aula do `openair`"
author:
- Mario Gavidia-Calderón \newline
- Rafaella Squizzato \newline
- Alejandro Delgado
date: "7/12/2021"
output:
  beamer_presentation:
    theme: "Dresden"
    fonttheme: "structurebold"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## O cardápio
1. Do Excel para o R
2. **Lembre da data: `as.POSIXct()`**
3. Figuras legais:
    * `summaryPlot()`
    * `timePlot()`
    * `windRose()`
    * `PollutionRose()`
    * `timevariation()`
4. Funções para alegrar a vida:
    * `timeAverage`
    * `selectByDate`
    * `splitByDate`

## Do Excel para o R
- Existe o pacote **`readxl`** para ler os `.xls` dentro do R.
- Eu não recomendo >:(
- **Melhor salvar o arquivo como `.csv` e ler o `.csv` no R. :) **
- Serve para Excel, Google Sheet, Libre Office, etc

## Do Excel para o R
- Exemplo com dados de Southport - Australia.
- Dados de [**openaq.org**](www.openaq.org)
- Procesados para nosso curso.
  - Maior informação em `02_preparing_example.R`

## Do Excel para o R

```{r , echo=TRUE}
au <- read.csv("../03_output/au_df_example.csv",
               sep = ",", dec = ".", header = T)
head(au, 5)
```

## Lembre da data: `as.POSIXct()`
```{r, echo=TRUE}
str(au)
```

## Lembre da data: `as.POSIXct()`
- Temos que dizer para o R que a coluna `date` não é `chr` senão dado de data
- Dica: `openair` sempre vai procurar a coluna `date`
```{r, echo=TRUE}
au$date <- as.POSIXct(
  strptime(au$date, 
           format = "%Y-%m-%dT%H:%M:%S+10:00"),
  tz = "Etc/GMT+10"
  )
```


## Maior informação
- [`openair` github repository](https://github.com/davidcarslaw/openair)
- [`openair` on-line book](https://bookdown.org/david_carslaw/openair/)
- [`openair` paper](https://doi.org/10.1016/j.envsoft.2011.09.008)
- [CBPF paper](https://doi.org/10.1016/j.envsoft.2014.05.002)